C51 COMPILER V9.53.0.0   CLAVIERI2C                                                        11/29/2023 09:40:36 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE CLAVIERI2C
OBJECT MODULE PLACED IN ClavierI2C.OBJ
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE ClavierI2C.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          /*****************************Contrôle Carte Dallas*******************************/
   2          /* 
   3             Nom du fichier : Dallas.c
   4             Auteur : Xavier Champoux, Harold Malbrouck, Charles-Olivier Lemelin
   5          
   6          Version 1.0 25-06-06
   7          Date de modification :  09-11-09
   8           
   9          D 
  10           
  11               
  12              
  13                
  14          *****************************************************************************************/
  15          
  16          //-------------- header files  -----------------
  17          #include "ds89c450.h"       // Définition des bits et des registres du microcontrôleur
  18          #include "ClavierI2C.h"
  19          #include "Dallas.h"
  20          #include "I2C.h"
  21          
  22          
  23          
  24          // *************************************************************************************************
  25          unsigned char ucReadKeyI2C(void)
  26          //   Auteur : Alain Champagne                  
  27          //      Date de création : 22-06-06   
  28          //   Description : Cette fonction initialise les SFRs pour permettre une communication série
  29          //                 à 57600 bauds sans interruptions. La communication série utilise le timer
  30          //                 1. On ne pourra donc pas utiliser ce timer lorsque la communication série 
  31          //                 sera employée.
  32          //          
  33          //   Paramètres d'entrée : Aucun.
  34          //   Paramètres de sortie : Aucun.                
  35          //   Variables utilisées : Aucun.
  36          //***************************************************************************************************
  37          {
  38   1        unsigned int uiAddresse = 0x28;
  39   1        unsigned char ucTouche = 0x20;
  40   1        if (INT == 0)
  41   1        {
  42   2          uiAddresse = uiAddresse + ucI2CLire8Bits(1);//ADDRESSE = 0X28+LECTURE I2C AVEC NACK
  43   2          ucTouche = ucLireMemI2C(uiAddresse);        //TOUCHE LUE DANS LA MEMOIRE I2C A L'ADDRESSE POINTEE
  44   2        } 
  45   1        return ucTouche;
  46   1      }
  47          // **************************************************************************************************
  48          void vTraiteTouche (unsigned char ucTouche)
  49          //  Auteur: Xavier Champoux   
  50          //  Date de création :  29 novembre 2023
  51          //  Version 1.0
  52          //
  53          //  Description          : Traite les touches lues sur le clavier I2C
  54          //  Paramètres d'entrées : Touche lue sur le clavier I2C
  55          //  Paramètres de sortie : Aucune
C51 COMPILER V9.53.0.0   CLAVIERI2C                                                        11/29/2023 09:40:36 PAGE 2   

  56          //
  57          //  Notes                : Cette fonction est faite pour lire le clavier sans utiliser les interruptions
  58          //                         Pour ne pas manquer de touches appuyées par l'utilisateur, il est recommandé 
  59          //                         d'appeler cette fonction aux 10 ms.
  60          // *************************************************************************************************
  61          {
  62   1        
  63   1      }
*** WARNING C280 IN LINE 48 OF ClavierI2C.c: 'ucTouche': unreferenced local variable
  64            


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     36    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  1 WARNING(S),  0 ERROR(S)
